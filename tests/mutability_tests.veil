/# Test file for mutability enforcement in Veil v2.0

/# Test 1: Basic variable assignment (should work - var is mutable by design)
test test_mutable_assignment {
    var x = 10;
    x = 20; /# This should be allowed
}

/# Test 2: Multiple assignments to variable
test test_multiple_assignments {
    var counter = 0;
    counter = 1;
    counter = 2;
    counter = 3; /# All should work
}

/# Test 3: Mixed mutability - var is mutable, const is immutable
test test_mixed_mutability {
    var a = 1;
    var b = 2;
    const C = 3;

    a = 10; /# Should work - var is mutable by design
    /# Don't assign to C - const is immutable
}

/# Test 4: Variable with type compatibility
test test_type_compatible_assignment {
    var x: i32 = 10;
    x = 20; /# Should work - same type
}

/# Test 5: Nested scope variable assignment
test test_nested_scope {
    var outer = 1;
    {
        var inner = 2;
        outer = 10; /# Should work
        inner = 20; /# Should work
    }
    outer = 30; /# Should work
}

/# Test 6: Constant variables remain immutable
test test_const_immutability {
    const PI = 3.14159;
    const MAX_SIZE = 1024;
    /# These should only be readable, not writable
    var area = PI * 10.0 * 10.0;
    var buffer_size = MAX_SIZE;
}

/# Test 7: Variables can be reassigned (var is mutable by design)
test test_var_mutability {
    var name = "Alice";
    var age = 25;
    /# Can read these values
    var greeting = name;
    var next_year = age + 1;
    /# Can also modify them
    name = "Bob";
    age = 30;
}
